## C++ 教学课件 - 第三次课

### 一、指针 E

**1. 指针的概念**

- 对于高手，指针是灵活强大的工具，可以实现各种复杂操作。
- 对于新手，指针容易引起错误，需要谨慎使用。
- C# 作为 C++ 的简化版，对指针的使用进行了限制，降低了学习难度。

**2. 指针的基本操作**

- `&`: 取址运算符，获取变量的内存地址。
    - 例如：`&a` 表示获取变量 `a` 的内存地址。
- 内存地址通常以十六进制显示。
- `*`: 声明指针变量时，表示该变量是指针类型，例如 `int *pa` 声明一个指向整型的指针 `pa`。
- `*`:  在表达式中，表示取值运算符，获取指针指向的内存地址处的值。
    - 例如：`*pa` 表示获取 `pa` 指针指向的内存地址处的值。
- 指针的大小与系统有关，在 32 位系统中为 4 个字节，在 64 位系统中为 8 个字节。

**3. 指针的初始化和空指针**

- 未初始化的指针可能指向任意地址，容易引发错误。
- 使用 `nullptr` 初始化指针，可以避免使用非法指针，及时发现错误。
    - 例如：`int *pp = nullptr;`

**4. 多级指针**

- 指针可以指向另一个指针，形成多级指针。
- 二级指针：指向指针的指针，例如 `int **pp2 = &pp;`
- 三级指针：指向二级指针的指针，例如 `int ***pp3 = &pp2;`

**5. void 指针**

- `void *` 可以指向任何类型的地址，但不能直接解引用。
- `void` 还可以用于函数返回类型，表示函数没有返回值。

### 二、引用 3

**1. 引用的概念**

- 引用是变量的别名，与变量指向同一个内存地址。
- `&`: 声明引用类型，例如 `int &ra = a;` 声明一个指向整型变量 `a` 的引用 `ra`。
- 引用的权限不能高于被引用变量的权限。

**2. 引用的特点**

- 引用必须初始化。
- 引用一旦初始化，就不能再指向其他变量。
- C 语言只有指针，没有引用。

**3. 指针和引用的区别**

| 特性     | 指针                       | 引用                                 |
| -------- | -------------------------- | ------------------------------------ |
| 定义     | 变量，存储内存地址         | 变量的别名                           |
| 初始化   | 可以为空，可以修改指向     | 必须初始化，不可修改指向             |
| 语法     | `*` 解引用， `&` 取地址    | 直接使用                             |
| 效率     | 间接访问，效率略低         | 直接访问，效率略高                   |
| 应用场景 | 动态内存分配，函数参数传递 | 提高代码可读性，避免函数调用时的拷贝 |

### 三、变量与常量 3

**1. 变量**

- 变量的值可以被修改和读取。

**2. 常量**

- 常量使用关键字 `const` 声明，例如 `const int MAX_VALUE = 100;`。
- 常量的值不能被修改，只能被读取。

### 四、常量指针和指针常量 3

**1. 常量指针**

- 指向常量的指针，例如 `const int *pa1 = &a;`
- 指针指向的内存地址处的值不能被修改，但指针本身可以指向其他地址。

**2. 指针常量**

- 指针类型的常量，例如 `int *const pa2 = &a;`
- 指针本身的指向不能修改，但指针指向的内存地址处的值可以被修改。

**3. 指向常量的指针常量**

- 指针和指向的值都不能被修改，例如 `const int *const pa3 = &a;`

### 五、auto 自动类型 1

- `auto` 关键字让编译器自动推断变量类型，例如 `auto x = 10;`。
- 适用于类型名过长或类型不明确的情况，提高代码可读性。

### 六、常用转义字符

- `\n`: 换行
- `\t`: 水平制表符
- `\'`: 单引号
- `\"`: 双引号
- `\\`: 反斜杠
- `\?`: 问号
- `\0`: 空字符
-  :  空格

**课后作业：**

```c++
// 在这里定义这个函数

int main() {
  int a = 1;
  int b = 2;
  std::cout << "a = " << a << "  b = " << b << std::endl;
  // 调用你编写的函数a与 b的值交换
  std::cout << "a = " << a << "  b = " << b << std::endl;
}
```

