# C++ 第四课：自定义数据类型与函数

**课程目标:**

* 掌握结构体、枚举和联合体的定义和使用。
* 理解函数的概念，掌握函数的定义、调用以及参数传递。
* 能够编写简单的 C++ 程序，并运用所学知识解决实际问题。

**课程内容:**

## **第一部分： 自定义数据类型 C**

1. **结构体 (struct)   (30分钟)**

   * 什么是结构体？
     *  结构体是一种自定义数据类型，允许我们将不同类型的数据组合在一起，形成一个新的数据单元。
     *  例如，存储学生信息，可以用一个结构体包含姓名 (字符串)、学号 (整数) 和成绩 (浮点数)。
   * 结构体的定义和使用：
     ```c++
     struct Student {
         string name;
         int id;
         float score;
     };
  
     int main() {
         Student s1;
         Student.name = "john";
         Student.id = 2023001;
         Student.score = 90.5;
  
         cout << "姓名: " << student.name << endl;
         cout << "学号: " << student.id << endl;
         cout << "成绩: " << student.score << endl;
  
         return 0;
     }
     ```
   * C++ 中的 struct 与 C 语言中的 struct 的区别?
      * C++ 中的 struct 可以包含函数，而 C 语言中的 struct 只能包含数据成员。
      * C++ 中的 struct 默认成员访问权限为 public，而 C 语言中的 struct 默认成员访问权限为 public。
   *  struct 和 class 的区别？
      *  在 C++ 中，struct 和 class 几乎完全相同，唯一的区别在于默认的成员访问权限：struct 默认是 public，而 class 默认是 private。 

2. **枚举 (enum) 3**

   * 什么是枚举？
     *  枚举是一种用户定义的数据类型，它包含一组命名的整型常量，用于提高代码的可读性和可维护性。
   * 枚举的定义和使用：
     ```c++
     enum week {
         w1,
         w2,
         w3,
         w4,
         w5,
         w6,
         w7
     };
  
     int main() {
         week today = w3;
         cout << "今天是星期" << w1 + 1 << endl; 
         // 输出结果会是 "今天是星期4"，因为枚举值默认从 0 开始递增
  
         return 0;
     }
     ```
   *  枚举的应用场景
     *  限定取值范围：例如，表示月份的枚举，可以限定月份的取值为 1 到 12。
     *  提高代码可读性：使用枚举可以使代码更易于理解，例如，使用 `星期一` 比使用数字 `1` 更容易理解。

3. **联合体 (union) 3**

   * 什么是联合体？
     *  联合体是一种特殊的数据类型，允许在同一内存位置存储不同类型的数据，但是只能存储其中一种类型的值。
   * 联合体的定义和使用：
     ```c++
     union Data {
         int intValue;
         float floatValue;
     };
     
     int main() {
         Data data;
         data.intValue = 10;
         cout << "intValue: " << data.intValue << endl; 
     
         data.floatValue = 3.14f; 
         cout << "floatValue: " << data.floatValue << endl;
         //  注意：此时输出 intValue 的值将会是未定义的，
         //  因为 floatValue 和 intValue 共享同一块内存地址
     
         return 0;
     }
     ```
   * 联合体的应用场景?
     *  节省内存空间: 当需要在不同时间存储不同类型的数据时，可以使用联合体来节省内存空间。
     *  实现数据类型的变体: 可以使用联合体来实现一个数据类型，该类型可以表示不同的数据类型。

## **第二部分：函数 C**

1. **函数的概念 2**

   * 什么是函数？
     *  函数是一段独立的代码块，用于执行特定的任务，可以被程序中的其他部分重复调用。
     *  函数可以提高代码的复用性和模块化程度。
   * 为什么要使用函数？
     *  避免代码冗余：将重复使用的代码块封装成函数，可以避免代码冗余，提高代码的可维护性。
     *  提高代码可读性：将复杂的程序逻辑分解成多个函数，可以提高代码的可读性。
     *  便于代码调试：每个函数都可以独立地进行测试和调试，方便定位和解决问题。

2. **函数的定义 4**
   
   * 函数定义的语法:
     ```c++
     返回值类型 函数名(参数类型1 参数1, 参数类型2 参数2, ...) {
         // 函数体
         return 返回值;
     }
     ```
     *  返回值类型：指定函数返回值的数据类型，如果没有返回值，则使用 `void`。
     *  函数名：函数的标识符，命名规则与变量名相同。
     *  参数列表：定义函数接收的参数，包括参数类型和参数名，多个参数之间用逗号分隔。
     *  函数体：包含函数要执行的代码块，用一对花括号 `{}` 包裹。
     *  return 语句：用于返回函数执行的结果，返回值的类型必须与函数定义的返回值类型一致。
   * 函数定义的示例：
     ```c++
     #include <iostream>
     using namespace std;
     
     // 定义一个函数，计算两个整数的和
     int add(int a, int b) {
         int sum = a + b;
         return sum;
     }
     
     int main() {
         int num1 = 10;
         int num2 = 20;
     
         // 调用函数 add()，并将 num1 和 num2 作为参数传递
         int result = add(num1, num2);
     
         // 输出计算结果
         cout << "num1 + num2 = " << result << endl;
     
         return 0;
     }
     ```
   
3. **函数的调用 4**

   * 函数调用的语法：
     ```c++
     函数名(参数列表);
     ```
   * 参数传递：将实际参数传递给函数的形参，参数传递的方式包括值传递和引用传递。
   * 函数调用的示例 (接上例)：
     ```c++
     // 在 main() 函数中调用 add() 函数
     int result = add(num1, num2);
     ```

4. **函数的应用 2**

   * 函数的应用场景
   *  编写可复用代码
   *  模块化编程
   *  简化程序逻辑

**课堂练习 (10 分钟)**

编写一个函数，用于判断一个年份是否为闰年。
