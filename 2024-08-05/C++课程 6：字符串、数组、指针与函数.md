# C++课程 6：字符串、数组、指针与函数 

## **一、字符串常量 D**

在 C++ 中，字符串常量是用双引号括起来的一系列字符。

* **'\0' 和 ' '**: 
    * **'\0'** 叫做**尾零**，它是一个特殊的字符，用于标记字符串的结束。
    * **' '** 表示一个**空格字符**，它也是一个有效的字符。

* **""**: 表示**空字符串**，它不包含任何字符，长度为 0。

* **空数组**:  在 C++ 中，定义一个空数组是合法的，但没什么实际意义。

* **数组和指针**:
    * 数组名可以看作是指向数组第一个元素的**常量指针**。
    * 可以用数组名给指针变量赋值，该指针将指向数组的第一个元素。

**示例:**

```cpp
#include <iostream>

int main() {
  char str1[] = "Hello"; // 字符串常量，包含'\0'
  char str2[] = "";      // 空字符串
  char str3[10];        // 字符数组，可以存储字符串
  char* p_str = str1;   // 指针指向数组第一个元素

  std::cout << "字符串str1的长度：" << strlen(str1) << std::endl; // 输出 5
  std::cout << "str1[0]的地址：" << &str1[0] << std::endl;
  std::cout << "p_str指向的地址：" << p_str << std::endl; // 两者地址相同
 
  return 0;
}
```

## **二、二维数组中的行指针 E**

* **概念**: 二维数组可以看作是由多个一维数组组成的数组。
* **行指针**: 
    * 二维数组的数组名是指向第一个一维数组的指针，也称为**行指针**。
    * 可以用二维数组名给指针变量赋值，该指针将指向二维数组的第一个元素，即第一个一维数组的地址。
* **指针数组**:  以多个指针为元素的数组。
* **数组指针**: 指向数组的指针，一维数组的指针称为行指针。

**示例:**

```cpp
#include <iostream>

int main() {
  int matrix[2][3] = {{1, 2, 3}, {4, 5, 6}};
  int (*p_row)[3] = matrix;  // 数组指针，指向包含3个整数的一维数组

  std::cout << "二维数组matrix的地址：" << matrix << std::endl;
  std::cout << "行指针p_row的地址：" << p_row << std::endl; // 两者地址相同

  // 使用行指针访问二维数组元素
  std::cout << "matrix[1][2] = " << *(*(p_row + 1) + 2) << std::endl;

  return 0;
}
```

## **三、函数和指针 E**

* **指针函数**: 返回值为指针类型的函数。
* **函数指针**: 指向函数的指针，可以将函数作为参数传递给其他函数。

**示例:**

```cpp
#include <iostream>

// 指针函数：返回数组中最大值的指针
int* findMax(int arr[], int len) {
  int* max = arr;
  for (int i = 1; i < len; ++i) {
    if (*max < arr[i]) {
      max = &arr[i];
    }
  }
  return max;
}

int main() {
  int numbers[] = {3, 7, 1, 9, 5};
  int len = sizeof(numbers) / sizeof(numbers[0]);
  int* p_max = findMax(numbers, len);
  std::cout << "数组中的最大值为: " << *p_max << std::endl;

  return 0;
}
```

## **四、函数的重载 D**

* **定义**: C++ 允许定义多个同名函数，只要它们的**参数列表不同**即可，这称为函数重载。
* **作用**: 通过函数重载，可以使用相同的函数名处理不同类型或数量的参数，提高代码可读性和可维护性。

**示例:**

```cpp
#include <iostream>

// 计算两个整数的和
int sum(int a, int b) {
  return a + b;
}

// 计算三个整数的和
int sum(int a, int b, int c) {
  return a + b + c;
}

int main() {
  std::cout << "sum(2, 3) = " << sum(2, 3) << std::endl;      // 调用第一个sum函数
  std::cout << "sum(2, 3, 4) = " << sum(2, 3, 4) << std::endl; // 调用第二个sum函数

  return 0;
}
```

## **五、函数的默认参数值 D**

* **定义**: C++ 允许在函数声明时为参数指定默认值。
* **作用**: 当调用函数时没有传递该参数值时，将使用默认值。

**示例:**

```cpp
#include <iostream>

// 计算圆的面积，默认半径为1
double calculateArea(double radius = 1.0) {
  return 3.14159 * radius * radius;
}

int main() {
  std::cout << "默认半径的圆面积: " << calculateArea() << std::endl;      // 使用默认参数值
  std::cout << "半径为2的圆面积: " << calculateArea(2.0) << std::endl;    // 传递参数值

  return 0;
}
```

## **六、内联函数 B**

* **定义**: 使用 `inline` 关键字修饰的函数称为内联函数。
* **作用**:  编译器在编译时将内联函数的代码直接复制到调用处，避免函数调用的开销，提高程序执行效率。
* **适用场景**: 短小简单的函数。

**示例:**

```cpp
#include <iostream>

// 内联函数：计算两个整数的最大值
inline int max(int a, int b) {
  return a > b ? a : b;
}

int main() {
  int x = 10, y = 5;
  std::cout << "最大值: " << max(x, y) << std::endl;

  return 0;
}
```

## 作业:



```cpp
#include <stdio.h>

// 计算数组元素的和
int sum(int arr[], int len) {
  // ...
}

// 计算数组元素的积
int product(int arr[], int len) {
  // ...
}

// 使用函数指针进行计算
int calculate(int arr[], int len, int (*func)(int *, int)) {
  // ...
}

int main() {
  int arr[] = {1, 2, 3, 4, 5};
  int len = sizeof(arr) / sizeof(arr[0]);

  // 计算数组元素的和
  int sum_result = calculate(arr, len, sum);
  printf("Sum: %d\n", sum_result);

  // 计算数组元素的积
  int product_result = calculate(arr, len, product);
  printf("Product: %d\n", product_result);

  return 0;
}
```